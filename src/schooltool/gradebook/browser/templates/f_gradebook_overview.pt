<tal:block i18n:domain="schooltool.gradebook">

<tal:block replace="resource_library:schooltool.gradebook.flourish" />
<tal:block condition="view/all_hidden">
  <p i18n:translate="">
    This section contains only worksheets that are hidden.
  </p>
  <p i18n:translate="">You can <a href="../.." i18n:name="unhide_worksheets" i18n:translate="">Unhide Worksheets</a>,
    or <a href="../../addWorksheet.html" i18n:name="add_worksheet" i18n:translate="">Add a Worksheet</a>.
  </p>
</tal:block>

<div tal:condition="not: view/all_hidden">
  <form method="post" id="grid-form" class="grid-form"
        tal:define="table view/table;
                    activities view/activities"
        tal:attributes="action string:${context/@@absolute_url}">
    <div id="gradebook" class="gradebook">
      <div id="students-part" class="students gradebook-part">
        <table>
          <thead>
            <tr>
              <th rowspan="2" class="name">
                <a class="popup_link" href="" i18n:translate="">Name</a>
              </th>
              <th tal:content="view/labels_row_header" />
            </tr>
            <tr>
              <th tal:content="view/scores_row_header" />
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="row table">
              <td colspan="2" tal:attributes="id row/student/id">
                <a class="popup_link"
                   href=""
                   tal:attributes="title row/student/title"
                   tal:content="row/student/title" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="grades-part" class="grades gradebook-part">
        <table>
          <thead>
            <tr>
              <tal:loop repeat="activity activities">
                <th tal:attributes="id activity/hash;
                                    class activity/cssClass">
                  <a class="popup_link"
                     href=""
                     tal:attributes="title activity/longTitle;
                                     href string:gradeActivity.html?activity=${activity/hash};"
                     tal:content="activity/shortTitle" />
                  <span class="activity-description"
                        tal:define="description activity/object/description|nothing"
                        tal:condition="description"
                        tal:content="description">description</span>
                </th>
              </tal:loop>
              <th class="placeholder" rowspan="2">&nbsp;</th>
            </tr>
            <tr>
              <th tal:repeat="activity activities"
                  tal:content="activity/max" />
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="row table">
              <td tal:repeat="grade row/grades"
                  tal:content="grade/value" />
              <td class="placeholder">&nbsp;</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="totals-part" class="totals gradebook-part">
        <table>
          <thead>
            <tr>
              <th id="column_absences"
                  tal:condition="not: view/absences_hide">
                <a class="popup_link" href="" i18n:translate="">Abs.</a>
              </th>
              <th id="column_tardies"
                  tal:condition="not: view/tardies_hide">
                <a class="popup_link" href="" i18n:translate="">Trd.</a>
              </th>
              <th id="column_total"
                  tal:condition="not: view/total_hide">
                <a class="popup_link" href="" i18n:translate="">Total</a>
              </th>
              <th id="column_average"
                  tal:condition="not: view/average_hide">
                <a class="popup_link" href="" i18n:translate="">Ave.</a>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="row table">
              <td tal:condition="not: view/absences_hide"
                  tal:content="row/absences|nothing" />
              <td tal:condition="not: view/tardies_hide"
                  tal:content="row/tardies|nothing" />
              <td tal:condition="not: view/total_hide"
                  tal:content="row/total|nothing" />
              <td tal:condition="not: view/average_hide"
                  tal:content="row/average|nothing" />
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="gradebook-controls" id="gradebook-controls">
      <div class="buttons">
        <input type="submit" class="button-ok" name="UPDATE_SUBMIT" value="Save"
               title="Shortcut: Alt-S" accesskey="S"
               i18n:attributes="value; title; accesskey" />
      </div>
      <div class="buttons zoom-buttons">
        <button type="button" class="button-neutral zoom-button expand"
                title="Expand" i18n:attributes="title">
          <span class="ui-icon ui-icon-arrowthick-1-w"></span>
        </button>
        <button type="button" class="button-neutral zoom-button collapse"
                title="Collapse" i18n:attributes="title">
          <span class="ui-icon ui-icon-arrowthick-1-e"></span>
        </button>
        <button type="button" class="button-neutral zoom-button zoom-out"
                title="Zoom Out" i18n:attributes="title">
          <span class="ui-icon ui-icon-zoomout"></span>
        </button>
        <button type="button" class="button-neutral zoom-button zoom-normal"
                title="Zoom Normal" i18n:attributes="title">
          <span class="ui-icon ui-icon-search"></span>
        </button>
        <button type="button" class="button-neutral zoom-button zoom-in"
                title="Zoom In" i18n:attributes="title">
          <span class="ui-icon ui-icon-zoomin"></span>
        </button>
      </div>
    </div>
  </form>
</div>

</tal:block>