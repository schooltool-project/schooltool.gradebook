<tal:define define="dummy view/update"/>
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" i18n:translate="">Activities</title>
</head>
<body>

<h1 metal:fill-slot="content-header"
    i18n:translate="">Activities</h1>

<metal:block metal:fill-slot="body"
             tal:define="activities view/activities">
  <div style="padding-bottom: 1em">
    <a class="button-ok" href="" title="New Worksheet"
       tal:attributes="href string:${context/@@absolute_url}/+/addWorksheet.html">
       New Worksheet
    </a>
  </div>
  <form method="post"
        tal:attributes="action string:${context/@@absolute_url}">
    <input type="hidden" name="form-submitted" value="" />
    <label for="currentWorksheet" i18n:translate="">Worksheet</label>
    <select name="currentWorksheet"
            onchange="this.form.submit()">
      <tal:block repeat="worksheet view/worksheets">
        <option value="1"
            tal:condition="python:worksheet != view.currentWorksheet"
            tal:attributes="value worksheet/title"
            tal:content="worksheet/title" />
        <option value="1" selected="selected"
            tal:condition="python:worksheet == view.currentWorksheet"
            tal:attributes="value worksheet/title"
            tal:content="worksheet/title" />
      </tal:block>
    </select>
    <a class="button-ok" href="" title="Edit Worksheet"
       tal:attributes="href string:${view/currentWorksheet/@@absolute_url}/edit.html">
       Edit
    </a>
    <div style="padding-bottom: 1em; padding-top: 1em">
      <a class="button-ok" href="" title="New Worksheet"
         tal:attributes="href string:${view/currentWorksheet/@@absolute_url}/+/addActivity.html">
         New Activity
      </a>
    </div>
    <div tal:repeat="activity activities">
      <select name=""
              onchange="this.form.submit()"
              tal:attributes="name string:pos.${activity/name}">
        <tal:block repeat="num view/positions">
          <option value="1"
              tal:condition="python:num != activity['pos']"
              tal:attributes="value num"
              tal:content="num" />
          <option value="1" selected="selected"
              tal:condition="python:num == activity['pos']"
              tal:attributes="value num"
              tal:content="num" />
        </tal:block>
      </select>
      <input type="checkbox" name="delete:list" disabled=""
             tal:attributes="value activity/name;
                             disabled activity/disabled" />

      <a tal:condition="not:activity/inherited"
         tal:content="activity/title"
         tal:attributes="href activity/url">Inherited Activity</a>

      <span tal:condition="activity/inherited">
        <span tal:content="activity/title">Inherited Activity</span>
        <span i18n:translate="">(inherited)</span>
      </span>

    </div>
    <div class="controls">
      <tal:block tal:condition="view/canModify"
                 metal:use-macro="view/@@standard_macros/delete-button" />
    </div>
  </form>

</metal:block>
</body>
</html>
